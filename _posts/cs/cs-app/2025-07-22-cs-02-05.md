---
layout: post
title: 컴퓨터 구조 CS:APP 2장 - 5 -
category: cs
---

# Index
- [정수의 표시](#정수의-표시)
- [정수형 데이터 타입](#정수형-데이터-타입)
- [비부호형의 인코딩](#비부호형의-인코딩)
- [2의 보수(two's complement) 인코딩](#2의-보수twos-complement-인코딩)

#### 정수의 표시

두 가지 방법이 있다

**양수만** 표시할 수 있는 방법과 **음수, 0, 양수** 모드를 표시할 수 있음

&nbsp;

#### 정수형 데이터 타입

![32비트에서 C 정수형 자료형의 일반적인 범위](/assets/images/cs/cs-app/cs-app-02-05-01.png)
![64비트에서 C 정수형 자료형의 일반적인 범위](/assets/images/cs/cs-app/cs-app-02-05-02.png)

&nbsp;

long은 64비트에서 8바이트를 사용하며 32비트에서 4바이트를 사용한다

음수의 범위가 양의 범위보다 **1** 더 넓다

&nbsp;

![C 정수 자료형들의 보장된 범위](/assets/images/cs/cs-app/cs-app-02-05-03.png)

C 표준은 자료형들이 최소한 이 범위의 값을 가질 것을 요구한다

특히 고정길이 자료형들을 제외하고, 이들은 양과 음의 숫자들이 **대칭적인** 범위만을 갖도록 요구하고 있다

**int**는 16비트 머신 시절로의 회귀가 될지라도 2바이트 숫자들을 구현될 수 있음

**long**도 마찬가지로 4바이트로 구현될 수 있음

음수가 하나 더 큰 이유는 0이 양수 자리를 **하나 더** 차지하기 때문이다

실제 0은 양수도 음수도 아니지만 **부호 비트** 때문에 0은 양수에 포함된다

&nbsp;

#### 비부호형의 인코딩

B2U(w)(길이 w의 **binary**에서 **unsigned**로를 의미)로 나타낸다

비부호형 이진수 표시는 0과 $$ 2^w - 1 $$ 사이의 모든 숫자가 w비트 값으로 유일한 인코딩을 갖는다

함수 B2U(w)는 전단사 bijection 특성을 갖는다 

전단사 특성의 수학적 의미는 어떤 함수 f가 양방향으로 사상할 수 있다는 것을 말한다 (1:1 대응)

&nbsp;

#### 2의 보수(two's complement) 인코딩

부호형 숫자를 컴퓨터에서 표시하는 가장 일반적인 방법은 **2의 보수** 형식

B2T(w)(Binary to Two's complement)와 같이 나타낸다

![B2T(w)](/assets/images/cs/cs-app/cs-app-02-05-04.png)

0001의 2의 보수 -> 1110 (**1의 보수**) -> 1111 (**2의 보수**)

1111는 -1이다 (1000 = -8, 1001 = -7 ... 1111 = -1)

혹은, 각 자리수의 가중치를 더하는 방법이 있다

$$ -0*2^3 + 0*2^2 + 0*2^1 + 1*2^0 = 1$$

&nbsp;

![w = 4인 경우 2의 보수 예제](/assets/images/cs/cs-app/cs-app-02-05-05.png)

&nbsp;

함수 T2B(w)는 B2T(w)의 **역함수**이다

2의 보수의 범위는 **비대칭적**이다

표현 가능한 정수의 범위를 UMax(w), TMin(w), TMax(w)로 표시함

\|TMin\| = \|TMax\| + 1, TMin에 대해서는 대응되는 양수 값이 **없다**

이런 사실로 인해 2의 보수 산술연산에서는 기이한 특성을 갖게 되며 

난해한 프로그램 **오류**의 원인이 될 수 있음

- **0**이 비음수이므로 이것은 양수의 개수보다 1 적다는 것을 의미

- **비부호형 최대값**은 2의 보수 최대값의 두 배보다 1 크다 -> UMax = 2TMax + 1
  
  4비트 기준 최대값(TMax) = 0111 = 7, 비부호형의 최대값(UMax) = 1111 =  15 

&nbsp;

C 표준에서는 부호형 정수를 **2의 보수 형식**으로 나타낼 것을 요구하지는 않지만,

거의 모든 컴퓨터에서 **요구**하고 있다    

호환성을 고려하는 프로그래머라면, 범위를 넘어가는 값의 특정 범위를 가정해서는 안되며

부호형 수에 대해서 특정 표시를 가정해서도 안 된다

C 라이브러리 <limits.h>는 여러 가지 정수 데이터 타입의 범위를 한정하는 상수들을 정의한다

INT_MAX, INT_MIN, UINT_MAX를 정의해서 부호형과 비부호형 정수의 **범위**를 설명하고 있다

<p style="display: flex; justify-content: space-between;">
<a href="cs-02-04.html">이전</a>
<a href="cs-02-06.html">다음</a>
</p>