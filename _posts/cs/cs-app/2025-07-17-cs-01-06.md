---
layout: post
title: 컴퓨터 구조 CS:APP 1장 - 6 -
category: cs
---

# Index
- [동시성과 병렬성](#동시성과-병렬성)
- [쓰레드 수준 동시성](#쓰레드-수준-동시성)
- [인스트럭션 수준 병렬성](#인스트럭션-수준-병렬성)
- [싱글 인스트럭션, 다중 데이터 병렬성(SIMD)](#싱글-인스트럭션-다중-데이터-병렬성simd)

#### 동시성과 병렬성

**동시성**(concurrency): 다수의 동시에 벌어지는 일을 갖는 시스템에 관한 일반적인 개념

**병렬성**(parallelism): 동시성을 사용해서 시스템을 보다 빠르게 동작하도록 하는 것을 말함


#### 쓰레드 수준 동시성

쓰레드를 이용하면 -> 한 개의 프로세스 내에서 **다수의 제어흐름**을 가질 수도 있다

1960년대 초반 시간공유(time-sharing) 기법의 출현

한 개의 프로세서로 빠르게 전환하는 방법을 사용하는 것을 **단일 프로세서 시스템**이라고 한다

어떤 시스템이 여러 개의 프로세서를 가지고 운영체제 커널의 제어 하에 동작하는 경우를 **멀티프로세서 시스템**이라고 한다

최근에는 **멀티코어 프로세서**들과 **하이퍼쓰레딩(Hyperthreading)** 기법의 출현

&nbsp;

![여러가지 프로세서 유형의 분류](/assets/images/cs/cs-app/cs-app-01-06-01.png)
![멀티코어 프로세서의 구성](/assets/images/cs/cs-app/cs-app-01-06-02.png)

**멀티쓰레딩**이라고도 하는 하이퍼쓰레딩은 하나의 CPU가 여러 개의 제어 흐름을 실행할 수 있게 해주는 기술

기존의 프로세서의 쓰레드들 간의 전환하는데 2만 클럭 사이클이다

하이퍼쓰레드 프로세서에서는 매 사이클마다 실행할 쓰레드를 결정함

**쓰레드**가 데이터를 캐시에 로딩하기 위해 대기해야 한다면, CPU는 다른 쓰레드를 실행할 수 있음

&nbsp;

**멀티프로세싱**의 이용은 시스템 성능을 두 가지 방법으로 개선

-  다수의 태스크를 실행할 때, **동시성**을 시뮬레이션할 필요를 줄어준다

-  멀티 프로세싱으로 응용프로그램을 빠르게 **실행**할 수 있음(프로그램이 병렬로 효율적으로 실행할 수 있는 멀티쓰레드의 형태일것)

&nbsp;

#### 인스트럭션 수준 병렬성

인스트럭션 수준 병렬성 : 훨씬 낮은 수준에서의 추상화로 여러 개의 인스트럭션을 **한 번에 실행** 가능

초기 마이크로프로세서들은 한 개의 인스트럭션 실행 -> 3.1개의 클럭 사이클 필요

최근의 프로세서들은 매 클럭 사이클마다 2.4개의 인스트럭션 실행 가능

**파이프라이닝**에서는 인스트럭션을 실행하기 위해 요구되는 일들을 여러 단계로 나누고 프로세서 하드웨어가  

일련의 단계로 구성되어 이들 단계를 하나씩 각각 수행함

사이클당 한 개 이상의 인스트럭션을 실행 가능 프로세서 -> **슈퍼스케일러(super-scalar)**

&nbsp;

#### 싱글 인스트럭션, 다중 데이터 병렬성(SIMD)

최신 프로세서들은 최하위 수준에서 **싱글 인스트럭션**, **다중 데이터**, **SIMD 병렬성**이라는 모드로  

한 개의 인스트럭션이 병렬로 다수의 연산을 수행할 수 있는 특수 하드웨어를 가지고 있음

**SIMD 인스트럭션들** 영상,  소리, 동영상 데이터 처리를 위한 응용 프로그램의 속도를 개선하기 위해 제공

&nbsp;

#### 컴퓨터 시스템에서의 추상화의 중요성

![컴퓨터 시스템이 제공하는 일부 추상화 개념](/assets/images/cs/cs-app/cs-app-01-06-03.png)

좋은 프로그래밍 연습의 하나는 함수들을 간단한 응용프로그램 인터페이스 API로 정형화 하는 것

프로그래머가 그 내부의 동작을 고려하지 않으면서 코드를 사용할 수 있도록 함

운영체제 측면에서 세 가지 추상화 소개

- **프로세스**는 실행 중인 프로그램의 추상화

- **파일**을 입출력의 장치의 추상화

- **가상메모리**는 프로그램 메모리의 추상화

한 개 더 예를 들자면 가상머신이 있다


#### - 1장 요약 -

- 컴퓨터 시스템 응용 프로그램이 필요한 것 -> 하드웨어, 시스템 소프트웨어

- 프로그램은 ASCII 문자로 시작 -> **컴파일러**와 **링커**에 의해 바이너리 실행파일들로 번역함

- 프로세서는 메인 메모리에 저장된 **바이너리 인스트럭션**을 읽고 해석함

- 컴퓨터는 대부분의 시간을 메모리, 입출력장치, CPU 레지스터 간에 데이터를 **복사**하는 데 씀

- 시스템의 저장장치들은 **계층구조**를 형성하여 CPU 레지스터가 최상위,  
  하드웨어 캐시 메모리, DRAM 메인 메모리 디스크 저장장치 등이 순차적으로 위치한다  

- 계층구조 상부의 저장장치(비싼 장치)들은 하부의 장치들을 위한 **캐시** 역할을 수행함

- 운영체제 커널은 응용프로그램과 하드웨어 사이에서 **중간자** 역할을 수행

- 운영체제는 세 가지 근본적인 추상화를 제공
  1. **파일**은 입출력장치의 추상화다
  2. **가상메모리**는 메인 메모리와 디스크의 추상화다
  3. **프로세스**는 프로세서, 메인 메모리, 입출력 장치의 추상화다  

- 네트워크는 단지 또 하나의 **입출력장치**다

<p style="display: flex; justify-content: space-between;">
<a href="cs-01-05.html">이전</a>
<a href="cs-02-01.html">다음</a>
</p>